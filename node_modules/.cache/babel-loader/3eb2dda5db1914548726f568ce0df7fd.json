{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\xampp\\\\htdocs\\\\smartgas\\\\app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\xampp\\\\htdocs\\\\smartgas\\\\app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"C:\\\\xampp\\\\htdocs\\\\smartgas\\\\app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:\\\\xampp\\\\htdocs\\\\smartgas\\\\app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"C:\\\\xampp\\\\htdocs\\\\smartgas\\\\app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\xampp\\\\htdocs\\\\smartgas\\\\app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\xampp\\\\htdocs\\\\smartgas\\\\app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\xampp\\\\htdocs\\\\smartgas\\\\app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component,Fragment}from\"react\";import{fetchGet,fetchPut}from\"../../../utils/Fetch\";import{withRouter,Redirect}from\"react-router-dom\";var initialState={NOMBRE_PILOTO:\"\",ESTADO:true};var EditarPiloto=/*#__PURE__*/function(_Component){_inherits(EditarPiloto,_Component);var _super=_createSuper(EditarPiloto);function EditarPiloto(){var _this;_classCallCheck(this,EditarPiloto);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state=_objectSpread({},initialState);_this.clearState=function(){_this.setState(_objectSpread({},initialState));};_this.UpdateState=function(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;_this.setState(_defineProperty({},name,value));};_this.validarForm=function(){var _this$state=_this.state,NOMBRE_PILOTO=_this$state.NOMBRE_PILOTO,DIRECCION_PILOTO=_this$state.DIRECCION_PILOTO,ID_EMPRESA=_this$state.ID_EMPRESA,TELEFONO_PILOTO=_this$state.TELEFONO_PILOTO,DNI_PILOTO=_this$state.DNI_PILOTO,TIPO_LICENCIA=_this$state.TIPO_LICENCIA;var noValido=!NOMBRE_PILOTO||!DIRECCION_PILOTO||!ID_EMPRESA||!TELEFONO_PILOTO||!DNI_PILOTO||!TIPO_LICENCIA;return noValido;};_this.autilizarPiloto=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return fetchPut(\"\".concat(process.env.REACT_APP_SERVER,\"/api/piloto\"),_this.state);case 3:data=_context.sent;_this.setState({data:data.data});alert(data.message);_this.props.history.push(\"/pilotos\");case 7:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();return _this;}_createClass(EditarPiloto,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var id,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:id=this.props.match.params.id;_context2.next=3;return fetchGet(\"\".concat(process.env.REACT_APP_SERVER,\"/api/piloto/\").concat(id));case 3:data=_context2.sent;this.setState(_objectSpread({},data.data[0]));case 5:case\"end\":return _context2.stop();}}},_callee2,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){var _this2=this;var redireccion=this.props.Access(\"GuardarAccesos\")?\"\":/*#__PURE__*/React.createElement(Redirect,{to:\"/\"});var mensaje=this.props.modificar?\"Editar Piloto\":\"Detalle de Piloto\";return/*#__PURE__*/React.createElement(Fragment,null,redireccion,/*#__PURE__*/React.createElement(\"h1\",{className:\"text-center mb-5\"},mensaje),/*#__PURE__*/React.createElement(\"div\",{className:\"row justify-content-center\"},/*#__PURE__*/React.createElement(\"form\",{className:\"col-md-8 col-sm-12\",onSubmit:function onSubmit(e){return _this2.autilizarPiloto(e);}},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\"Nombre:\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"NOMBRE_PILOTO\",className:\"form-control\",placeholder:\"Nombre del Piloto\",onChange:this.UpdateState,readOnly:!this.props.modificar,defaultValue:this.state.NOMBRE_PILOTO})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\"Direccion:\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"DIRECCION_PILOTO\",className:\"form-control\",placeholder:\"Nombre del Piloto\",onChange:this.UpdateState,readOnly:!this.props.modificar,defaultValue:this.state.DIRECCION_PILOTO})),\"  \",/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\"Telefono:\"),/*#__PURE__*/React.createElement(\"input\",{type:\"number\",name:\"TELEFONO_PILOTO\",className:\"form-control\",placeholder:\"Telefono del Piloto\",readOnly:!this.props.modificar,onChange:this.UpdateState,defaultValue:this.state.TELEFONO_PILOTO})),\"  \",/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\"DNI_PILOTO:\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"DNI_PILOTO\",className:\"form-control\",placeholder:\"DNI del Piloto\",onChange:this.UpdateState,readOnly:!this.props.modificar,defaultValue:this.state.DNI_PILOTO})),\"  \",/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\"Tipo de Licencia:\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"TIPO_LICENCIA\",className:\"form-control\",placeholder:\"Tipo de licencia del Piloto\",onChange:this.UpdateState,readOnly:!this.props.modificar,defaultValue:this.state.TIPO_LICENCIA})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\"Empresa:\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"ID_EMPRESA\",className:\"form-control\",placeholder:\"Empresa del Piloto\",readOnly:!this.props.modificar,onChange:this.UpdateState,defaultValue:this.state.ID_EMPRESA})),this.props.modificar&&/*#__PURE__*/React.createElement(\"button\",{disabled:this.validarForm(),type:\"submit\",className:\"btn btn-success float-right\"},\"Editar Piloto\"))));}}]);return EditarPiloto;}(Component);export default withRouter(EditarPiloto);","map":{"version":3,"sources":["C:/xampp/htdocs/smartgas/app/src/components/Catalogos/Pilotos/PilotosEditar.js"],"names":["React","Component","Fragment","fetchGet","fetchPut","withRouter","Redirect","initialState","NOMBRE_PILOTO","ESTADO","EditarPiloto","state","clearState","setState","UpdateState","e","target","name","value","validarForm","DIRECCION_PILOTO","ID_EMPRESA","TELEFONO_PILOTO","DNI_PILOTO","TIPO_LICENCIA","noValido","autilizarPiloto","preventDefault","process","env","REACT_APP_SERVER","data","alert","message","props","history","push","id","match","params","redireccion","Access","mensaje","modificar"],"mappings":"8sCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,QAAT,CAAmBC,QAAnB,KAAmC,sBAAnC,CACA,OAASC,UAAT,CAAqBC,QAArB,KAAqC,kBAArC,CAEA,GAAMC,CAAAA,YAAY,CAAG,CACnBC,aAAa,CAAE,EADI,CAEnBC,MAAM,CAAE,IAFW,CAArB,C,GAKMC,CAAAA,Y,mVACJC,K,kBACKJ,Y,QAGLK,U,CAAa,UAAM,CACjB,MAAKC,QAAL,kBACKN,YADL,GAGD,C,OAWDO,W,CAAc,SAACC,CAAD,CAAO,eACKA,CAAC,CAACC,MADP,CACXC,IADW,WACXA,IADW,CACLC,KADK,WACLA,KADK,CAEnB,MAAKL,QAAL,oBACGI,IADH,CACUC,KADV,GAGD,C,OAEDC,W,CAAc,UAAM,iBAIE,MAAKR,KAJP,CACXH,aADW,aACXA,aADW,CACGY,gBADH,aACGA,gBADH,CACoBC,UADpB,aACoBA,UADpB,CAEhBC,eAFgB,aAEhBA,eAFgB,CAGhBC,UAHgB,aAGhBA,UAHgB,CAIhBC,aAJgB,aAIhBA,aAJgB,CAKlB,GAAMC,CAAAA,QAAQ,CAAG,CAACjB,aAAD,EAAiB,CAACY,gBAAlB,EAAqC,CAACC,UAAtC,EAAmD,CAACC,eAApD,EACd,CAACC,UADa,EACA,CAACC,aADlB,CAEA,MAAOC,CAAAA,QAAP,CACD,C,OAEDC,e,0FAAkB,iBAAOX,CAAP,2HAChBA,CAAC,CAACY,cAAF,GADgB,sBAGGvB,CAAAA,QAAQ,WACtBwB,OAAO,CAACC,GAAR,CAAYC,gBADU,gBAEzB,MAAKnB,KAFoB,CAHX,QAGVoB,IAHU,eAOhB,MAAKlB,QAAL,CAAc,CAAEkB,IAAI,CAAEA,IAAI,CAACA,IAAb,CAAd,EACAC,KAAK,CAACD,IAAI,CAACE,OAAN,CAAL,CACA,MAAKC,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,UAAxB,EATgB,sD,qXAxBRC,E,CAAO,KAAKH,KAAL,CAAWI,KAAX,CAAiBC,M,CAAxBF,E,wBAEWlC,CAAAA,QAAQ,WACtByB,OAAO,CAACC,GAAR,CAAYC,gBADU,wBACqBO,EADrB,E,QAArBN,I,gBAGN,KAAKlB,QAAL,kBAAmBkB,IAAI,CAACA,IAAL,CAAU,CAAV,CAAnB,G,iNA+BO,iBACP,GAAMS,CAAAA,WAAW,CAAG,KAAKN,KAAL,CAAWO,MAAX,CAAkB,gBAAlB,EAClB,EADkB,cAGlB,oBAAC,QAAD,EAAU,EAAE,CAAC,GAAb,EAHF,CAKA,GAAMC,CAAAA,OAAO,CAAG,KAAKR,KAAL,CAAWS,SAAX,CACd,eADc,CAGf,mBAHD,CAKA,mBACE,oBAAC,QAAD,MACGH,WADH,cAEE,0BAAI,SAAS,CAAC,kBAAd,EAAkCE,OAAlC,CAFF,cAIE,2BAAK,SAAS,CAAC,4BAAf,eACE,4BACE,SAAS,CAAC,oBADZ,CAEE,QAAQ,CAAE,kBAAC3B,CAAD,QAAO,CAAA,MAAI,CAACW,eAAL,CAAqBX,CAArB,CAAP,EAFZ,eAIE,2BAAK,SAAS,CAAC,YAAf,eACE,2CADF,cAEE,6BACE,IAAI,CAAC,MADP,CAEE,IAAI,CAAC,eAFP,CAGE,SAAS,CAAC,cAHZ,CAIE,WAAW,CAAC,mBAJd,CAKE,QAAQ,CAAE,KAAKD,WALjB,CAMI,QAAQ,CAAE,CAAC,KAAKoB,KAAL,CAAWS,SAN1B,CAOE,YAAY,CAAE,KAAKhC,KAAL,CAAWH,aAP3B,EAFF,CAJF,cAgBE,2BAAK,SAAS,CAAC,YAAf,eACE,8CADF,cAEE,6BACE,IAAI,CAAC,MADP,CAEE,IAAI,CAAC,kBAFP,CAGE,SAAS,CAAC,cAHZ,CAIE,WAAW,CAAC,mBAJd,CAKE,QAAQ,CAAE,KAAKM,WALjB,CAMI,QAAQ,CAAE,CAAC,KAAKoB,KAAL,CAAWS,SAN1B,CAOE,YAAY,CAAE,KAAKhC,KAAL,CAAWS,gBAP3B,EAFF,CAhBF,mBA2BU,2BAAK,SAAS,CAAC,YAAf,eACN,6CADM,cAEN,6BACE,IAAI,CAAC,QADP,CAEE,IAAI,CAAC,iBAFP,CAGE,SAAS,CAAC,cAHZ,CAIE,WAAW,CAAC,qBAJd,CAKI,QAAQ,CAAE,CAAC,KAAKc,KAAL,CAAWS,SAL1B,CAME,QAAQ,CAAE,KAAK7B,WANjB,CAOE,YAAY,CAAE,KAAKH,KAAL,CAAWW,eAP3B,EAFM,CA3BV,mBAsCU,2BAAK,SAAS,CAAC,YAAf,eACN,+CADM,cAEN,6BACE,IAAI,CAAC,MADP,CAEE,IAAI,CAAC,YAFP,CAGE,SAAS,CAAC,cAHZ,CAIE,WAAW,CAAC,gBAJd,CAKE,QAAQ,CAAE,KAAKR,WALjB,CAME,QAAQ,CAAE,CAAC,KAAKoB,KAAL,CAAWS,SANxB,CAQE,YAAY,CAAE,KAAKhC,KAAL,CAAWY,UAR3B,EAFM,CAtCV,mBAkDU,2BAAK,SAAS,CAAC,YAAf,eACN,qDADM,cAEN,6BACE,IAAI,CAAC,MADP,CAEE,IAAI,CAAC,eAFP,CAGE,SAAS,CAAC,cAHZ,CAIE,WAAW,CAAC,6BAJd,CAKE,QAAQ,CAAE,KAAKT,WALjB,CAME,QAAQ,CAAE,CAAC,KAAKoB,KAAL,CAAWS,SANxB,CAQE,YAAY,CAAE,KAAKhC,KAAL,CAAWa,aAR3B,EAFM,CAlDV,cA+DE,2BAAK,SAAS,CAAC,YAAf,eACE,4CADF,cAEE,6BACE,IAAI,CAAC,MADP,CAEE,IAAI,CAAC,YAFP,CAGE,SAAS,CAAC,cAHZ,CAIE,WAAW,CAAC,oBAJd,CAKI,QAAQ,CAAE,CAAC,KAAKU,KAAL,CAAWS,SAL1B,CAME,QAAQ,CAAE,KAAK7B,WANjB,CAOE,YAAY,CAAE,KAAKH,KAAL,CAAWU,UAP3B,EAFF,CA/DF,CA2EG,KAAKa,KAAL,CAAWS,SAAX,eAED,8BACE,QAAQ,CAAE,KAAKxB,WAAL,EADZ,CAEE,IAAI,CAAC,QAFP,CAGE,SAAS,CAAC,6BAHZ,kBA7EF,CADF,CAJF,CADF,CA8FD,C,0BA1JwBlB,S,EA6J3B,cAAeI,CAAAA,UAAU,CAACK,YAAD,CAAzB","sourcesContent":["import React, { Component, Fragment } from \"react\";\nimport { fetchGet, fetchPut } from \"../../../utils/Fetch\";\nimport { withRouter, Redirect } from \"react-router-dom\";\n\nconst initialState = {\n  NOMBRE_PILOTO: \"\",\n  ESTADO: true,\n};\n\nclass EditarPiloto extends Component {\n  state = {\n    ...initialState,\n  };\n\n  clearState = () => {\n    this.setState({\n      ...initialState,\n    });\n  };\n\n\n  async componentDidMount() {\n    const { id } = this.props.match.params;\n\n    const data = await fetchGet(\n      `${process.env.REACT_APP_SERVER}/api/piloto/${id}`\n    );\n    this.setState({ ...data.data[0] });\n  }\n  UpdateState = (e) => {\n    const { name, value } = e.target;\n    this.setState({\n      [name]: value,\n    });\n  };\n\n  validarForm = () => {\n    const {NOMBRE_PILOTO,DIRECCION_PILOTO,ID_EMPRESA,\n      TELEFONO_PILOTO,\n      DNI_PILOTO,\n      TIPO_LICENCIA } = this.state;\n    const noValido = !NOMBRE_PILOTO ||!DIRECCION_PILOTO ||!ID_EMPRESA ||!TELEFONO_PILOTO\n     ||!DNI_PILOTO ||!TIPO_LICENCIA;\n    return noValido;\n  };\n\n  autilizarPiloto = async (e) => {\n    e.preventDefault();\n\n    const data = await fetchPut(\n      `${process.env.REACT_APP_SERVER}/api/piloto`,\n      this.state\n    );\n    this.setState({ data: data.data });\n    alert(data.message);\n    this.props.history.push(\"/pilotos\");\n  };\n\n  render() {\n    const redireccion = this.props.Access(\"GuardarAccesos\") ? (\n      \"\"\n    ) : (\n      <Redirect to=\"/\" />\n    );\n    const mensaje = this.props.modificar ? (\n      \"Editar Piloto\"\n    ) : (\n     \"Detalle de Piloto\"\n    );\n    return (\n      <Fragment>\n        {redireccion}\n        <h1 className=\"text-center mb-5\">{mensaje}</h1>\n\n        <div className=\"row justify-content-center\">\n          <form\n            className=\"col-md-8 col-sm-12\"\n            onSubmit={(e) => this.autilizarPiloto(e)}\n          >\n            <div className=\"form-group\">\n              <label>Nombre:</label>\n              <input\n                type=\"text\"\n                name=\"NOMBRE_PILOTO\"\n                className=\"form-control\"\n                placeholder=\"Nombre del Piloto\"\n                onChange={this.UpdateState}\n                  readOnly={!this.props.modificar}\n                defaultValue={this.state.NOMBRE_PILOTO}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Direccion:</label>\n              <input\n                type=\"text\"\n                name=\"DIRECCION_PILOTO\"\n                className=\"form-control\"\n                placeholder=\"Nombre del Piloto\"\n                onChange={this.UpdateState}\n                  readOnly={!this.props.modificar}\n                defaultValue={this.state.DIRECCION_PILOTO}\n              />\n            </div>  <div className=\"form-group\">\n              <label>Telefono:</label>\n              <input\n                type=\"number\"\n                name=\"TELEFONO_PILOTO\"\n                className=\"form-control\"\n                placeholder=\"Telefono del Piloto\"\n                  readOnly={!this.props.modificar}\n                onChange={this.UpdateState}\n                defaultValue={this.state.TELEFONO_PILOTO}\n              />\n            </div>  <div className=\"form-group\">\n              <label>DNI_PILOTO:</label>\n              <input\n                type=\"text\"\n                name=\"DNI_PILOTO\"\n                className=\"form-control\"\n                placeholder=\"DNI del Piloto\"\n                onChange={this.UpdateState}\n                readOnly={!this.props.modificar}\n\n                defaultValue={this.state.DNI_PILOTO}\n              />\n            </div>  <div className=\"form-group\">\n              <label>Tipo de Licencia:</label>\n              <input\n                type=\"text\"\n                name=\"TIPO_LICENCIA\"\n                className=\"form-control\"\n                placeholder=\"Tipo de licencia del Piloto\"\n                onChange={this.UpdateState}\n                readOnly={!this.props.modificar}\n\n                defaultValue={this.state.TIPO_LICENCIA}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Empresa:</label>\n              <input\n                type=\"text\"\n                name=\"ID_EMPRESA\"\n                className=\"form-control\"\n                placeholder=\"Empresa del Piloto\"\n                  readOnly={!this.props.modificar}\n                onChange={this.UpdateState}\n                defaultValue={this.state.ID_EMPRESA}\n              />\n            </div>\n            {this.props.modificar &&(\n            \n            <button\n              disabled={this.validarForm()}\n              type=\"submit\"\n              className=\"btn btn-success float-right\"\n            >\n              Editar Piloto\n            </button>)}\n          </form>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default withRouter(EditarPiloto);\n\n"]},"metadata":{},"sourceType":"module"}