{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\xampp\\\\htdocs\\\\smartgas\\\\app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\xampp\\\\htdocs\\\\smartgas\\\\app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"C:\\\\xampp\\\\htdocs\\\\smartgas\\\\app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:\\\\xampp\\\\htdocs\\\\smartgas\\\\app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"C:\\\\xampp\\\\htdocs\\\\smartgas\\\\app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\xampp\\\\htdocs\\\\smartgas\\\\app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\xampp\\\\htdocs\\\\smartgas\\\\app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\xampp\\\\htdocs\\\\smartgas\\\\app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component,Fragment}from\"react\";import{fetchPut,fetchGet}from\"../../../utils/Fetch\";import{withRouter,Redirect}from\"react-router-dom\";var initialState={ID_TARJETA:\"\",NUMERO_TARJETA:\"\",DESCRIPCION_TARJETA:\"\",ASIGNADA_TARJETA:\"\"};var TarjetaEditar=/*#__PURE__*/function(_Component){_inherits(TarjetaEditar,_Component);var _super=_createSuper(TarjetaEditar);function TarjetaEditar(){var _this;_classCallCheck(this,TarjetaEditar);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state=_objectSpread({},initialState);_this.clearState=function(){_this.setState(_objectSpread({},initialState));};_this.UpdateState=function(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;_this.setState(_defineProperty({},name,value));};_this.validarForm=function(){var _this$state=_this.state,NUMERO_TARJETA=_this$state.NUMERO_TARJETA,DESCRIPCION_TARJETA=_this$state.DESCRIPCION_TARJETA,ASIGNADA_TARJETA=_this$state.ASIGNADA_TARJETA;var noValido=!NUMERO_TARJETA||!DESCRIPCION_TARJETA||!ASIGNADA_TARJETA;return noValido;};_this.EditarTarjeta=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return fetchPut(\"\".concat(process.env.REACT_APP_SERVER,\"/api/tarjeta/\").concat(_this.state.ID_TARJETA),_this.state);case 3:data=_context.sent;_this.setState({data:data.data});alert(data.message);_this.props.history.push(\"/tarjeta\");case 7:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();return _this;}_createClass(TarjetaEditar,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var id,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:id=this.props.match.params.id;_context2.next=3;return fetchGet(\"\".concat(process.env.REACT_APP_SERVER,\"/api/tarjeta/\").concat(id));case 3:data=_context2.sent;this.setState(_objectSpread({},data.data[0]));case 5:case\"end\":return _context2.stop();}}},_callee2,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){var _this2=this;var redireccion=this.props.Access(\"GuardarAccesos\")?\"\":/*#__PURE__*/React.createElement(Redirect,{to:\"/\"});var mensaje=this.props.modificar?\"Editar Tarjeta\":\"Detalle Tipo Tarjeta\";return/*#__PURE__*/React.createElement(Fragment,null,redireccion,/*#__PURE__*/React.createElement(\"h1\",{className:\"text-center mb-5\"},mensaje),/*#__PURE__*/React.createElement(\"div\",{className:\"row justify-content-center\"},/*#__PURE__*/React.createElement(\"form\",{className:\"col-md-8 col-sm-12\",onSubmit:function onSubmit(e){return _this2.EditarTarjeta(e);}},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\"Numero de Tarjeta:\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"NUMERO_TARJETA\",className:\"form-control\",placeholder:\"Numero de Tarjeta\",onChange:this.UpdateState,defaultValue:this.state.NUMERO_TARJETA,readOnly:!this.props.modificar})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\"Descripcion de Tarjeta:\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"DESCRIPCION_TARJETA\",className:\"form-control\",placeholder:\"Descripcion Tarjeta\",onChange:this.UpdateState,defaultValue:this.state.DESCRIPCION_TARJETA,readOnly:!this.props.modificar})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\"Asignada Tarjeta:\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"ASIGNADA_TARJETA\",className:\"form-control\",placeholder:\"Tarjeta Asignada\",onChange:this.UpdateState,defaultValue:this.state.ASIGNADA_TARJETA,readOnly:!this.props.modificar})),/*#__PURE__*/React.createElement(\"button\",{disabled:this.validarForm(),type:\"submit\",className:\"btn btn-success float-right\"},\"Editar Tarjeta\"))));}}]);return TarjetaEditar;}(Component);export default withRouter(TarjetaEditar);","map":{"version":3,"sources":["C:/xampp/htdocs/smartgas/app/src/components/Catalogos/Tarjeta/TarjetaEditar.js"],"names":["React","Component","Fragment","fetchPut","fetchGet","withRouter","Redirect","initialState","ID_TARJETA","NUMERO_TARJETA","DESCRIPCION_TARJETA","ASIGNADA_TARJETA","TarjetaEditar","state","clearState","setState","UpdateState","e","target","name","value","validarForm","noValido","EditarTarjeta","preventDefault","process","env","REACT_APP_SERVER","data","alert","message","props","history","push","id","match","params","redireccion","Access","mensaje","modificar"],"mappings":"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","sourcesContent":["\n  import React, { Component, Fragment } from \"react\";\n  import { fetchPut,fetchGet } from \"../../../utils/Fetch\";\n  import { withRouter, Redirect } from \"react-router-dom\";\n  \n  const initialState = {\n    ID_TARJETA:\"\"\n  ,NUMERO_TARJETA:\"\"\n  ,DESCRIPCION_TARJETA:\"\"\n  ,ASIGNADA_TARJETA:\"\"\n  };\n  \n  class TarjetaEditar extends Component {\n    state = {\n      ...initialState,\n    };\n  \n    clearState = () => {\n      this.setState({\n        ...initialState,\n      });\n    };\n  \n    UpdateState = (e) => {\n      const { name, value } = e.target;\n      this.setState({\n        [name]: value,\n      });\n    };\n  \n    validarForm = () => {\n      const { NUMERO_TARJETA,DESCRIPCION_TARJETA,ASIGNADA_TARJETA} = this.state;\n      const noValido = !NUMERO_TARJETA|| ! DESCRIPCION_TARJETA || !ASIGNADA_TARJETA;\n      return noValido;\n    };\n    \n  async componentDidMount() {\n    const { id } = this.props.match.params;\n\n    const data = await fetchGet(\n      `${process.env.REACT_APP_SERVER}/api/tarjeta/${id}`\n    );\n    this.setState({ ...data.data[0] });\n  }\n  \n    EditarTarjeta = async (e) => {\n      e.preventDefault();\n  \n      const data = await fetchPut(\n        `${process.env.REACT_APP_SERVER}/api/tarjeta/${this.state.ID_TARJETA}`,\n        this.state\n      );\n      this.setState({ data: data.data });\n      alert(data.message);\n      this.props.history.push(\"/tarjeta\");\n    };\n  \n    render() {\n      const redireccion = this.props.Access(\"GuardarAccesos\") ? (\n        \"\"\n      ) : (\n        <Redirect to=\"/\" />\n      );\n\n      const mensaje = this.props.modificar ? (\n        \"Editar Tarjeta\"\n      ) : (\n        \"Detalle Tipo Tarjeta\"\n      );\n  \n      return (\n        <Fragment>\n          {redireccion}\n      <h1 className=\"text-center mb-5\">{mensaje}</h1>\n\n      <div className=\"row justify-content-center\">\n       <form\n    className=\"col-md-8 col-sm-12\"\n    onSubmit={(e) => this.EditarTarjeta(e)}\n  >\n    <div className=\"form-group\">\n      <label>Numero de Tarjeta:</label>\n      <input\n        type=\"text\"\n        name=\"NUMERO_TARJETA\"\n        className=\"form-control\"\n        placeholder=\"Numero de Tarjeta\"\n        onChange={this.UpdateState}\n        defaultValue={this.state.NUMERO_TARJETA}\n        readOnly={!this.props.modificar} \n      />\n    </div>\n\n    <div className=\"form-group\">\n      <label>Descripcion de Tarjeta:</label>\n      <input\n        type=\"text\"\n        name=\"DESCRIPCION_TARJETA\"\n        className=\"form-control\"\n        placeholder=\"Descripcion Tarjeta\"\n        onChange={this.UpdateState}\n        defaultValue={this.state.DESCRIPCION_TARJETA}\n        readOnly={!this.props.modificar} \n      />\n    </div>\n    <div className=\"form-group\">\n      <label>Asignada Tarjeta:</label>\n      <input\n        type=\"text\"\n        name=\"ASIGNADA_TARJETA\"\n        className=\"form-control\"\n        placeholder=\"Tarjeta Asignada\"\n        onChange={this.UpdateState}\n        defaultValue={this.state.ASIGNADA_TARJETA}\n        readOnly={!this.props.modificar} \n      />\n    </div>\n\n    \n    <button\n      disabled={this.validarForm()}\n      type=\"submit\"\n      className=\"btn btn-success float-right\"\n    >\n      Editar Tarjeta\n    </button>\n  </form>\n</div>\n        </Fragment>\n      );\n    }\n  }\n  \n  export default withRouter(TarjetaEditar);\n  "]},"metadata":{},"sourceType":"module"}