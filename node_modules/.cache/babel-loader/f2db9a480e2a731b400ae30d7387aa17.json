{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\xampp\\\\htdocs\\\\smartgas\\\\app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\xampp\\\\htdocs\\\\smartgas\\\\app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"C:\\\\xampp\\\\htdocs\\\\smartgas\\\\app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:\\\\xampp\\\\htdocs\\\\smartgas\\\\app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"C:\\\\xampp\\\\htdocs\\\\smartgas\\\\app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\xampp\\\\htdocs\\\\smartgas\\\\app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\xampp\\\\htdocs\\\\smartgas\\\\app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\xampp\\\\htdocs\\\\smartgas\\\\app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component,Fragment}from\"react\";import{fetchPost}from\"../../../utils/Fetch\";import{withRouter,Redirect}from\"react-router-dom\";var initialState={ID_EMPRESA:\"\",NOMBRE_EMPRESA:\"\",DIRECCION_EMPRESA:\"\",TELEFONO_EMPRESA:\"\"};var EmpresaNuevo=/*#__PURE__*/function(_Component){_inherits(EmpresaNuevo,_Component);var _super=_createSuper(EmpresaNuevo);function EmpresaNuevo(){var _this;_classCallCheck(this,EmpresaNuevo);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state=_objectSpread({},initialState);_this.clearState=function(){_this.setState(_objectSpread({},initialState));};_this.UpdateState=function(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;_this.setState(_defineProperty({},name,value));};_this.validarForm=function(){var _this$state=_this.state,NOMBRE_EMPRESA=_this$state.NOMBRE_EMPRESA,DIRECCION_EMPRESA=_this$state.DIRECCION_EMPRESA,TELEFONO_EMPRESA=_this$state.TELEFONO_EMPRESA;var noValido=!NOMBRE_EMPRESA||!DIRECCION_EMPRESA||!TELEFONO_EMPRESA;return noValido;};_this.CrearEmpresa=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return fetchPost(\"\".concat(process.env.REACT_APP_SERVER,\"/api/empresa\"),_this.state);case 3:data=_context.sent;_this.setState({data:data.data});alert(data.message);_this.props.history.push(\"/empresa\");case 7:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();return _this;}_createClass(EmpresaNuevo,[{key:\"render\",value:function render(){var _this2=this;var redireccion=this.props.Access(\"GuardarAccesos\")?\"\":/*#__PURE__*/React.createElement(Redirect,{to:\"/\"});return/*#__PURE__*/React.createElement(Fragment,null,redireccion,/*#__PURE__*/React.createElement(\"h1\",{className:\"text-center mb-5\"},\"Nueva Empresa\"),/*#__PURE__*/React.createElement(\"div\",{className:\"row justify-content-center\"},/*#__PURE__*/React.createElement(\"form\",{className:\"col-md-8 col-sm-12\",onSubmit:function onSubmit(e){return _this2.CrearEmpresa(e);}},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\"Nombre:\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"NOMBRE_EMPRESA\",className:\"form-control\",placeholder:\"Nombre de la Empresa\",onChange:this.UpdateState,defaultValue:this.state.NOMBRE_EMPRESA})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\"Direcci\\xF3n:\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"DIRECCION_EMPRESA\",className:\"form-control\",placeholder:\"Direcci\\xF3n de la empresa\",onChange:this.UpdateState,defaultValue:this.state.DIRECCION_EMPRESA})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\"Telefono:\"),/*#__PURE__*/React.createElement(\"input\",{type:\"number\",name:\"TELEFONO_EMPRESA\",className:\"form-control\",placeholder:\"Telefono de la empresa\",onChange:this.UpdateState,defaultValue:this.state.TELEFONO_EMPRESA})),/*#__PURE__*/React.createElement(\"button\",{disabled:this.validarForm(),type:\"submit\",className:\"btn btn-success float-right\"},\"Crear Empresa\"))));}}]);return EmpresaNuevo;}(Component);export default withRouter(EmpresaNuevo);","map":{"version":3,"sources":["C:/xampp/htdocs/smartgas/app/src/components/Catalogos/Empresa/EmpresaNuevo.js"],"names":["React","Component","Fragment","fetchPost","withRouter","Redirect","initialState","ID_EMPRESA","NOMBRE_EMPRESA","DIRECCION_EMPRESA","TELEFONO_EMPRESA","EmpresaNuevo","state","clearState","setState","UpdateState","e","target","name","value","validarForm","noValido","CrearEmpresa","preventDefault","process","env","REACT_APP_SERVER","data","alert","message","props","history","push","redireccion","Access"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from \"react\";\nimport { fetchPost } from \"../../../utils/Fetch\";\nimport { withRouter, Redirect } from \"react-router-dom\";\n\nconst initialState = {\n  ID_EMPRESA:\"\",\n  NOMBRE_EMPRESA:\"\",\n  DIRECCION_EMPRESA:\"\",\n  TELEFONO_EMPRESA:\"\"\n};\n\nclass EmpresaNuevo extends Component {\n  state = {\n    ...initialState,\n  };\n\n  clearState = () => {\n    this.setState({\n      ...initialState,\n    });\n  };\n\n  UpdateState = (e) => {\n    const { name, value } = e.target;\n    this.setState({\n      [name]: value,\n    });\n  };\n\n  validarForm = () => {\n    const {NOMBRE_EMPRESA,\n      DIRECCION_EMPRESA,\n      TELEFONO_EMPRESA } = this.state;\n    const noValido = !NOMBRE_EMPRESA || !DIRECCION_EMPRESA  || !TELEFONO_EMPRESA;\n    return noValido;\n  };\n\n  CrearEmpresa = async (e) => {\n    e.preventDefault();\n\n    const data = await fetchPost(\n      `${process.env.REACT_APP_SERVER}/api/empresa`,\n      this.state\n    );\n    this.setState({ data: data.data });\n    alert(data.message);\n    this.props.history.push(\"/empresa\");\n  };\n\n  render() {\n    const redireccion = this.props.Access(\"GuardarAccesos\") ? (\n      \"\"\n    ) : (\n      <Redirect to=\"/\" />\n    );\n\n    return (\n      <Fragment>\n        {redireccion}\n        <h1 className=\"text-center mb-5\">Nueva Empresa</h1>\n\n        <div className=\"row justify-content-center\">\n          <form\n            className=\"col-md-8 col-sm-12\"\n            onSubmit={(e) => this.CrearEmpresa(e)}\n          >\n            <div className=\"form-group\">\n              <label>Nombre:</label>\n              <input\n                type=\"text\"\n                name=\"NOMBRE_EMPRESA\"\n                className=\"form-control\"\n                placeholder=\"Nombre de la Empresa\"\n                onChange={this.UpdateState}\n                defaultValue={this.state.NOMBRE_EMPRESA}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Dirección:</label>\n              <input\n                type=\"text\"\n                name=\"DIRECCION_EMPRESA\"\n                className=\"form-control\"\n                placeholder=\"Dirección de la empresa\"\n                onChange={this.UpdateState}\n                defaultValue={this.state.DIRECCION_EMPRESA}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Telefono:</label>\n              <input\n                type=\"number\"\n                name=\"TELEFONO_EMPRESA\"\n                className=\"form-control\"\n                placeholder=\"Telefono de la empresa\"\n                onChange={this.UpdateState}\n                defaultValue={this.state.TELEFONO_EMPRESA}\n              />\n            </div>\n            <button\n              disabled={this.validarForm()}\n              type=\"submit\"\n              className=\"btn btn-success float-right\"\n            >\n              Crear Empresa\n            </button>\n          </form>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default withRouter(EmpresaNuevo);\n"]},"metadata":{},"sourceType":"module"}