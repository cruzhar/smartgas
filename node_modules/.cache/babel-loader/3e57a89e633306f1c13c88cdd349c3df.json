{"ast":null,"code":"import _defineProperty from\"C:\\\\xampp\\\\htdocs\\\\smartgas\\\\app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"C:\\\\xampp\\\\htdocs\\\\smartgas\\\\app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\xampp\\\\htdocs\\\\smartgas\\\\app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:\\\\xampp\\\\htdocs\\\\smartgas\\\\app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\xampp\\\\htdocs\\\\smartgas\\\\app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\xampp\\\\htdocs\\\\smartgas\\\\app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\xampp\\\\htdocs\\\\smartgas\\\\app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component,Fragment}from\"react\";import{fetchGet}from\"../../../utils/Fetch\";import{Link,Redirect}from\"react-router-dom\";var estadoInicial={BuscarDatos:\"\",data:null};var Tarjeta=/*#__PURE__*/function(_Component){_inherits(Tarjeta,_Component);var _super=_createSuper(Tarjeta);function Tarjeta(props){var _this;_classCallCheck(this,Tarjeta);_this=_super.call(this,props);_this.Buscar=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetchGet(\"\".concat(process.env.REACT_APP_SERVER,\"/api/tarjeta\"));case 2:data=_context.sent;_this.setState({dataFiltrada:data.data,data:data.data});case 4:case\"end\":return _context.stop();}}},_callee);}));_this.BuscarDatos=function(e){e.preventDefault();var patt=new RegExp(\"\".concat(_this.state.BuscarDatos),\"gi\");var datos=_this.state.data.filter(function(dat){return patt.exec(dat.NUMERO_TARJETA);});_this.setState({dataFiltrada:datos});};_this.cambioEstado=function(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;_this.setState(_defineProperty({},name,value));};_this.state={data:estadoInicial};return _this;}_createClass(Tarjeta,[{key:\"componentDidMount\",value:function componentDidMount(){this.Buscar();}// cambioEstado = async (e) => {\n//  const data = await fetchGet(`${process.env.REACT_APP_SERVER}/api/piloto`);\n//   this.setState({ dataFiltrada: data.data, data: data.data });\n//   const { name, value } = e.target;\n//   this.setState({\n//     [name]: value,\n//   });\n// };\n},{key:\"render\",value:function render(){var _this2=this;var redireccion=this.props.Access(\"VerAccesos\")?\"\":/*#__PURE__*/React.createElement(Redirect,{to:\"/\"});return/*#__PURE__*/React.createElement(Fragment,null,redireccion,/*#__PURE__*/React.createElement(\"h1\",{className:\"text-center mb-5\"},\"Tarjeta\"),/*#__PURE__*/React.createElement(\"form\",{class:\"form-inline \",onSubmit:this.BuscarDatos},/*#__PURE__*/React.createElement(\"label\",{className:\"ml-5 mr-5\"},/*#__PURE__*/React.createElement(\"strong\",null,\"Numero de Tarjeta:\")),/*#__PURE__*/React.createElement(\"input\",{class:\"form-control mr-sm-5\",type:\"search\",name:\"BuscarDatos\",onChange:this.cambioEstado,defaultValue:this.state.BuscarDatos,placeholder:\"\",\"aria-label\":\"Search\"}),/*#__PURE__*/React.createElement(\"button\",{class:\"btn btn-outline-dark my-2 my-sm-0\",type:\"submit\"},\"Buscar\")),this.props.Access(\"GuardarAccesos\")&&/*#__PURE__*/React.createElement(Link,{to:\"\".concat(process.env.PUBLIC_URL,\"/tarjeta/crear\"),className:\"btn btn-link  ml-5 mr-5\"},\"Crear\"),this.state.dataFiltrada&&/*#__PURE__*/React.createElement(\"div\",{className:\"ml-5 mr-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row border\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-4 col-xs-4\"},\"Numero de Tarjeta\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-4 col-xs-4 d-none d-sm-block\"},\"Descripcion Tarjeta\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-4 col-xs-4\"},\"Tarjeta Asigna\")),this.state.dataFiltrada.map(function(item){var ID_TARJETA=item.ID_TARJETA;return/*#__PURE__*/React.createElement(\"div\",{className:\"row border\",key:ID_TARJETA},/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-3 col-xs-3\"},item.NUMERO_TARJETA),/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-3 col-xs-3 d-none d-sm-block\"},item.DESCRIPCION_TARJETA),/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-3 col-xs-3 d-none d-sm-block\"},item.ASIGANADA_TARJETA),/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-3 col-xs-3\"},_this2.props.Access(\"EditarAccesos\")&&/*#__PURE__*/React.createElement(Link,{to:\"\".concat(process.env.PUBLIC_URL,\"/tarjeta/modificar/\").concat(item.ID_TARJETA),className:\"btn btn-warning m-1\"},\"Modificar\"),_this2.props.Access(\"EditarAccesos\")&&/*#__PURE__*/React.createElement(Link,{to:\"\".concat(process.env.PUBLIC_URL,\"/tarjeta/detalle/\").concat(item.ID_TARJETA),className:\"btn btn-primary m-1\"},\"Detalles\")));})));}}]);return Tarjeta;}(Component);export default Tarjeta;","map":{"version":3,"sources":["C:/xampp/htdocs/smartgas/app/src/components/Catalogos/Tarjeta/index.js"],"names":["React","Component","Fragment","fetchGet","Link","Redirect","estadoInicial","BuscarDatos","data","Tarjeta","props","Buscar","process","env","REACT_APP_SERVER","setState","dataFiltrada","e","preventDefault","patt","RegExp","state","datos","filter","dat","exec","NUMERO_TARJETA","cambioEstado","target","name","value","redireccion","Access","PUBLIC_URL","map","item","ID_TARJETA","DESCRIPCION_TARJETA","ASIGANADA_TARJETA"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from \"react\";\nimport { fetchGet} from \"../../../utils/Fetch\";\nimport { Link, Redirect } from \"react-router-dom\";\n\nconst estadoInicial = { BuscarDatos: \"\", data: null };\n\nclass Tarjeta extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { data: estadoInicial };\n  }\n\n  Buscar = async () =>{\n    const data = await fetchGet(`${process.env.REACT_APP_SERVER}/api/tarjeta`);\n    this.setState({ dataFiltrada: data.data, data: data.data});\n  }\n\n   componentDidMount() {\n   this.Buscar();\n  }\n  // cambioEstado = async (e) => {\n  //  const data = await fetchGet(`${process.env.REACT_APP_SERVER}/api/piloto`);\n  //   this.setState({ dataFiltrada: data.data, data: data.data });\n  //   const { name, value } = e.target;\n  //   this.setState({\n  //     [name]: value,\n  //   });\n  // };\n\n  BuscarDatos = (e) => {\n    e.preventDefault();\n    const patt = new RegExp(`${this.state.BuscarDatos}`, \"gi\");\n    const datos = this.state.data.filter((dat) => patt.exec(dat.NUMERO_TARJETA));\n\n    this.setState({\n      dataFiltrada: datos,\n    });\n  };\n\ncambioEstado = (e) => {\n  const { name, value } = e.target;\n  this.setState({\n    [name]: value,\n  });\n};\n  render() {\n    const redireccion = this.props.Access(\"VerAccesos\") ? (\n      \"\"\n    ) : (\n      <Redirect to=\"/\" />\n    );\n\n    return (\n      <Fragment>\n        {redireccion}\n        <h1 className=\"text-center mb-5\">Tarjeta</h1>\n        <form class=\"form-inline \" onSubmit={this.BuscarDatos}>\n          <label className=\"ml-5 mr-5\">\n            <strong>Numero de Tarjeta:</strong>\n          </label>\n          <input\n            class=\"form-control mr-sm-5\"\n            type=\"search\"\n            name=\"BuscarDatos\"\n            onChange={this.cambioEstado}\n            defaultValue={this.state.BuscarDatos}\n            placeholder=\"\"\n            aria-label=\"Search\"\n          />\n          <button class=\"btn btn-outline-dark my-2 my-sm-0\" type=\"submit\">\n            Buscar\n          </button>\n        </form>\n\n        {this.props.Access(\"GuardarAccesos\") && (\n          <Link\n            to={`${process.env.PUBLIC_URL}/tarjeta/crear`}\n            className=\"btn btn-link  ml-5 mr-5\"\n          >\n            Crear\n          </Link>\n        )}\n\n        {this.state.dataFiltrada && (\n          <div className=\"ml-5 mr-5\">\n            <div className=\"row border\">\n              <div className=\"col-sm-4 col-xs-4\">Numero de Tarjeta</div>\n              <div className=\"col-sm-4 col-xs-4 d-none d-sm-block\">Descripcion Tarjeta</div>\n              <div className=\"col-sm-4 col-xs-4\">Tarjeta Asigna</div>\n            </div>\n            {this.state.dataFiltrada.map((item) => {\n              const { ID_TARJETA } = item;\n              return (\n                <div className=\"row border\" key={ID_TARJETA}>\n                  <div className=\"col-sm-3 col-xs-3\">{item.NUMERO_TARJETA}</div>\n                  <div className=\"col-sm-3 col-xs-3 d-none d-sm-block\">{item.DESCRIPCION_TARJETA}</div>\n                  <div className=\"col-sm-3 col-xs-3 d-none d-sm-block\">{item.ASIGANADA_TARJETA}</div>\n                  <div className=\"col-sm-3 col-xs-3\">\n                \n                    {this.props.Access(\"EditarAccesos\")  && (\n                      <Link\n                        to={`${process.env.PUBLIC_URL}/tarjeta/modificar/${item.ID_TARJETA}`}\n                        className=\"btn btn-warning m-1\"\n                      >\n                        Modificar\n                      </Link>\n                    )}\n\n                    {this.props.Access(\"EditarAccesos\")  && (\n                      <Link\n                        to={`${process.env.PUBLIC_URL}/tarjeta/detalle/${item.ID_TARJETA}`}\n                        className=\"btn btn-primary m-1\"\n                      >\n                        Detalles\n                      </Link>\n                    )}\n                \n                  </div>\n                  {/* </td> */}\n                  {/* </tr> */}\n                </div>\n              );\n            })}\n          </div>\n        )}\n      </Fragment>\n    );\n  }\n}\n\nexport default Tarjeta;\n"]},"metadata":{},"sourceType":"module"}